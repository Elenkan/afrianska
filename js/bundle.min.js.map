{"version":3,"sources":["modal.js","bundle.js","send-form.js","validation.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","Object","defineProperty","value","popupSuccess","querySelector","buttonVacancy","document","modalOverlay","modal","userName","closeElements","Array","el","scrolledElement","top","behavior","addEventListener","classList","remove","body","add","window","element","contains","modalForm","sendForm","_modal","REQUEST_URL","form","FormData","xhr","open","XMLHttpRequest","responseType","setRequestHeader","onload","status","REDIRECTION_CODE","reset","send","JSON","stringify","_sendForm","ENTER_CODE","from","querySelectorAll","input","inputName","inputEmail","validateInput","msg","pattern","arguments","undefined","match","setCustomValidity","item","hasAttribute","evt","dataValue","target","errorMessages","patterns","keyCode","preventDefault","inputs","forEach","./modal.js","./send-form.js","2","scrollTo","focus","3"],"mappings":"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","file":"bundle.min.js","sourcesContent":["'use strict';\nconst body = document.querySelector('body');\nconst buttonVacancy = document.querySelector('.vacancy__button');\nconst modalOverlay = document.querySelector('.overlay-modal');\nconst modal = document.querySelector('.modal-wrapper');\nconst userName = document.querySelector('#send-form__user-name');\nconst closeElements = Array.from(document.querySelectorAll('.js-close'));\nconst popupSuccess = document.querySelector('.popup-success');\nconst scrolledElement = (el) => {\n  el.scrollTo({\n    top: 0,\n    behavior: 'smooth'\n  });\n};\n\nbuttonVacancy.addEventListener('click', () => {\n  modalOverlay.classList.remove('hidden');\n  modal.classList.remove('hidden');\n  body.classList.add('body-remove-scroll');\n  userName.focus();\n  scrolledElement(modal);\n  scrolledElement(window);\n});\n\n\ncloseElements.forEach(element => {\n  element.addEventListener('click', () => {\n    if (!popupSuccess.classList.contains('hidden')) {\n      popupSuccess.classList.add('hidden');\n    } else {\n      modal.classList.add('hidden');\n    }\n    modalOverlay.classList.add('hidden');\n    body.classList.remove('body-remove-scroll');\n  });\n});\n\nexport { modal, popupSuccess };\n",null,"'use strict';\nimport { modal, popupSuccess } from './modal.js';\nconst modalForm = document.querySelector('.send-form');\nconst REQUEST_URL = 'https://jsonplaceholder.typicode.com/posts';\nconst INFO_CODE = 100;\nconst REDIRECTION_CODE = 300;\nconst form = new FormData(modalForm);\n\nconst sendForm = function() {\n  const xhr = new XMLHttpRequest();\n  xhr.open('POST', REQUEST_URL);\n  xhr.responseType = 'json';\n  xhr.setRequestHeader('Content-type', 'application/json; charset=UTF-8');\n\n  xhr.onload = () => {\n    if (xhr.status > INFO_CODE && xhr.status < REDIRECTION_CODE) {\n      modalForm.reset();\n      modal.classList.add('hidden');\n      popupSuccess.classList.remove('hidden');\n    }\n  };\n\n  xhr.send(JSON.stringify(form));\n};\n\nexport { sendForm, modalForm };\n","'use strict';\nimport { sendForm, modalForm } from './send-form.js';\n\nconst inputs = Array.from(document.querySelectorAll('.send-form__input'));\nconst ENTER_CODE = 13;\nconst errorMessages = {\n  input: 'Please fill in this required field',\n  inputName: 'Please use letters only',\n  inputEmail: `Please enter a valid email address (the right format is 'email@mail.com')`\n};\nconst patterns = {\n  inputName: /^[a-zA-Z]+$/,\n  inputEmail: /([A-z0-9_.-]{1,})@([A-z0-9_.-]{1,}).([A-z]{2,8})/\n};\n\nconst validateInput = (input, msg, pattern = /./) => {\n  if (!input.value.match(pattern) || !input.value) {\n    input.classList.add('error');\n    input.setCustomValidity(msg);\n  } else {\n    input.classList.remove('error');\n    input.setCustomValidity('');\n  }\n};\n\nconst submitFormHandler = (evt) => {\n  evt.preventDefault();\n  inputs.forEach(input => validateInput(input, errorMessages.input));\n  if (inputs.every(item => item.value)) {\n    sendForm();\n  }\n};\n\ninputs.forEach(item => {\n  item.addEventListener('change', (evt) => {\n    if (item.hasAttribute('data-name')) {\n      let dataValue = item.getAttribute('data-name');\n      validateInput(evt.target, errorMessages[dataValue], patterns[dataValue]);\n    } else {\n      validateInput(evt.target, errorMessages.input);\n    }\n  });\n});\n\nmodalForm.addEventListener('keydown', (evt) => {\n  if (evt.keyCode == ENTER_CODE) {\n    evt.preventDefault();\n  }\n});\n\nmodalForm.addEventListener('submit', submitFormHandler);\n"]}